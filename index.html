<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Code Studio Pro - Ultimate Development Environment</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body data-theme="dark">
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-logo">
                <i class="fas fa-robot"></i>
                <h1>AI Code Studio Pro</h1>
            </div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="loading-text" id="loadingText">Initializing AI Systems...</div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu hidden" id="contextMenu">
        <div class="context-item" data-action="copy"><i class="fas fa-copy"></i> Copy</div>
        <div class="context-item" data-action="paste"><i class="fas fa-paste"></i> Paste</div>
        <div class="context-item" data-action="cut"><i class="fas fa-cut"></i> Cut</div>
        <div class="context-separator"></div>
        <div class="context-item" data-action="format"><i class="fas fa-magic"></i> Format Code</div>
        <div class="context-item" data-action="comment"><i class="fas fa-comment"></i> Toggle Comment</div>
        <div class="context-separator"></div>
        <div class="context-item" data-action="rename"><i class="fas fa-edit"></i> Rename File</div>
        <div class="context-item" data-action="delete"><i class="fas fa-trash"></i> Delete File</div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Drag Overlay -->
    <div class="drag-overlay hidden" id="dragOverlay">
        <div class="drag-content">
            <i class="fas fa-cloud-upload-alt"></i>
            <h3>Drop Files Here</h3>
            <p>Support for .js, .html, .css, .py, .json, .md, .txt, .ts, .jsx, .vue and more</p>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="logo">
                <i class="fas fa-robot logo-icon"></i>
                <span class="logo-text">AI Code Studio Pro</span>
                <span class="version-badge">v2.0</span>
            </div>
        </div>

        <div class="header-center">
            <div class="breadcrumb" id="breadcrumb">
                <span class="breadcrumb-item active">Welcome.js</span>
            </div>
        </div>

        <div class="header-right">
            <div class="header-actions">
                <button class="header-btn" id="newProjectBtn" title="New Project">
                    <i class="fas fa-plus"></i>
                    <span>New</span>
                </button>
                <button class="header-btn" id="openProjectBtn" title="Open Project">
                    <i class="fas fa-folder-open"></i>
                    <span>Open</span>
                </button>
                <button class="header-btn" id="saveProjectBtn" title="Save Project">
                    <i class="fas fa-save"></i>
                    <span>Save</span>
                </button>
                <div class="header-separator"></div>
                <button class="header-btn" id="undoBtn" title="Undo">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="header-btn" id="redoBtn" title="Redo">
                    <i class="fas fa-redo"></i>
                </button>
                <div class="header-separator"></div>
                <button class="header-btn" id="runCodeBtn" title="Run Code">
                    <i class="fas fa-play"></i>
                    <span>Run</span>
                </button>
                <button class="header-btn" id="debugBtn" title="Debug">
                    <i class="fas fa-bug"></i>
                    <span>Debug</span>
                </button>
                <div class="header-separator"></div>
                <button class="header-btn" id="shareBtn" title="Share Project">
                    <i class="fas fa-share-alt"></i>
                    <span>Share</span>
                </button>
                <button class="header-btn" id="exportBtn" title="Export Project">
                    <i class="fas fa-download"></i>
                    <span>Export</span>
                </button>
                <div class="header-separator"></div>
                <button class="header-btn" id="settingsBtn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="header-btn theme-toggle" id="themeToggle" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-menu">
                    <button class="user-btn" id="userBtn">
                        <img src="https://ui-avatars.com/api/?name=Coen-yin&background=0066cc&color=fff" alt="User Avatar" class="user-avatar">
                        <span class="user-name">Coen-yin</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="user-dropdown hidden" id="userDropdown">
                        <div class="user-info">
                            <img src="https://ui-avatars.com/api/?name=Coen-yin&background=0066cc&color=fff" alt="User Avatar">
                            <div>
                                <div class="user-name">Coen-yin</div>
                                <div class="user-email">coen.yin@example.com</div>
                            </div>
                        </div>
                        <div class="dropdown-separator"></div>
                        <div class="dropdown-item"><i class="fas fa-user"></i> Profile</div>
                        <div class="dropdown-item"><i class="fas fa-cloud"></i> Cloud Sync</div>
                        <div class="dropdown-item"><i class="fas fa-history"></i> Version History</div>
                        <div class="dropdown-separator"></div>
                        <div class="dropdown-item"><i class="fas fa-sign-out-alt"></i> Sign Out</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Activity Bar -->
        <nav class="activity-bar">
            <div class="activity-items">
                <button class="activity-item active" data-panel="explorer" title="Explorer">
                    <i class="fas fa-folder"></i>
                </button>
                <button class="activity-item" data-panel="search" title="Search">
                    <i class="fas fa-search"></i>
                </button>
                <button class="activity-item" data-panel="git" title="Source Control">
                    <i class="fas fa-code-branch"></i>
                </button>
                <button class="activity-item" data-panel="debug" title="Debug">
                    <i class="fas fa-bug"></i>
                </button>
                <button class="activity-item" data-panel="extensions" title="Extensions">
                    <i class="fas fa-puzzle-piece"></i>
                </button>
                <button class="activity-item" data-panel="database" title="Database">
                    <i class="fas fa-database"></i>
                </button>
                <button class="activity-item" data-panel="terminal" title="Terminal">
                    <i class="fas fa-terminal"></i>
                </button>
            </div>
            <div class="activity-bottom">
                <button class="activity-item" data-panel="ai" title="AI Assistant">
                    <i class="fas fa-robot"></i>
                </button>
                <button class="activity-item" data-panel="collaboration" title="Live Collaboration">
                    <i class="fas fa-users"></i>
                </button>
            </div>
        </nav>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <!-- Explorer Panel -->
            <div class="sidebar-panel active" id="explorerPanel">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <i class="fas fa-folder"></i>
                        Explorer
                    </h3>
                    <div class="panel-actions">
                        <button class="panel-btn" id="newFileBtn" title="New File">
                            <i class="fas fa-file-plus"></i>
                        </button>
                        <button class="panel-btn" id="newFolderBtn" title="New Folder">
                            <i class="fas fa-folder-plus"></i>
                        </button>
                        <button class="panel-btn" id="refreshBtn" title="Refresh">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="panel-btn" id="collapseAllBtn" title="Collapse All">
                            <i class="fas fa-compress-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="panel-content">
                    <div class="file-tree" id="fileTree">
                        <!-- Files will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Search Panel -->
            <div class="sidebar-panel hidden" id="searchPanel">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <i class="fas fa-search"></i>
                        Search
                    </h3>
                </div>
                <div class="panel-content">
                    <div class="search-container">
                        <div class="search-input-group">
                            <input type="text" class="search-input" id="searchInput" placeholder="Search in files...">
                            <button class="search-btn" id="searchBtn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <div class="search-options">
                            <label class="search-option">
                                <input type="checkbox" id="caseSensitive">
                                <span>Case Sensitive</span>
                            </label>
                            <label class="search-option">
                                <input type="checkbox" id="wholeWord">
                                <span>Whole Word</span>
                            </label>
                            <label class="search-option">
                                <input type="checkbox" id="useRegex">
                                <span>Regex</span>
                            </label>
                        </div>
                        <div class="search-results" id="searchResults">
                            <!-- Search results will appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Git Panel -->
            <div class="sidebar-panel hidden" id="gitPanel">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <i class="fas fa-code-branch"></i>
                        Source Control
                    </h3>
                </div>
                <div class="panel-content">
                    <div class="git-status">
                        <div class="git-branch">
                            <i class="fas fa-code-branch"></i>
                            <span id="currentBranch">main</span>
                            <button class="git-btn" id="switchBranchBtn">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </div>
                        <div class="git-changes" id="gitChanges">
                            <!-- Git changes will appear here -->
                        </div>
                        <div class="git-actions">
                            <button class="btn btn-primary" id="commitBtn">
                                <i class="fas fa-check"></i>
                                Commit Changes
                            </button>
                            <button class="btn btn-secondary" id="pushBtn">
                                <i class="fas fa-cloud-upload-alt"></i>
                                Push
                            </button>
                            <button class="btn btn-secondary" id="pullBtn">
                                <i class="fas fa-cloud-download-alt"></i>
                                Pull
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Debug Panel -->
            <div class="sidebar-panel hidden" id="debugPanel">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <i class="fas fa-bug"></i>
                        Debug Console
                    </h3>
                </div>
                <div class="panel-content">
                    <div class="debug-container">
                        <div class="debug-controls">
                            <button class="debug-btn" id="startDebugBtn">
                                <i class="fas fa-play"></i>
                                Start Debug
                            </button>
                            <button class="debug-btn" id="stopDebugBtn">
                                <i class="fas fa-stop"></i>
                                Stop
                            </button>
                            <button class="debug-btn" id="stepOverBtn">
                                <i class="fas fa-step-forward"></i>
                                Step Over
                            </button>
                            <button class="debug-btn" id="stepIntoBtn">
                                <i class="fas fa-arrow-down"></i>
                                Step Into
                            </button>
                        </div>
                        <div class="debug-variables" id="debugVariables">
                            <!-- Debug variables will appear here -->
                        </div>
                        <div class="debug-console" id="debugConsole">
                            <!-- Debug output will appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Extensions Panel -->
            <div class="sidebar-panel hidden" id="extensionsPanel">
                <div class="panel-header">
                    <h3 class="panel-title">
                        <i class="fas fa-puzzle-piece"></i>
                        Extensions
                    </h3>
                </div>
                <div class="panel-content">
                    <div class="extensions-container">
                        <div class="extensions-search">
                            <input type="text" class="form-input" placeholder="Search extensions...">
                        </div>
                        <div class="extensions-list" id="extensionsList">
                            <!-- Extensions will appear here -->
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tab Bar -->
            <div class="tab-bar" id="tabBar">
                <div class="tabs-container" id="tabsContainer">
                    <!-- Tabs will be populated by JavaScript -->
                </div>
                <div class="tab-actions">
                    <button class="tab-action-btn" id="splitEditorBtn" title="Split Editor">
                        <i class="fas fa-columns"></i>
                    </button>
                    <button class="tab-action-btn" id="closeAllBtn" title="Close All">
                        <i class="fas fa-times-circle"></i>
                    </button>
                </div>
            </div>

            <!-- Editor Container -->
            <div class="editor-container" id="editorContainer">
                <!-- Welcome Screen -->
                <div class="welcome-screen active" id="welcomeScreen">
                    <div class="welcome-content">
                        <div class="welcome-header">
                            <i class="fas fa-robot welcome-icon"></i>
                            <h1>Welcome to AI Code Studio Pro</h1>
                            <p>The ultimate AI-powered development environment</p>
                        </div>
                        
                        <div class="welcome-sections">
                            <div class="welcome-section">
                                <h3><i class="fas fa-rocket"></i> Get Started</h3>
                                <div class="welcome-actions">
                                    <button class="welcome-btn" id="createProjectBtn">
                                        <i class="fas fa-plus"></i>
                                        Create New Project
                                    </button>
                                    <button class="welcome-btn" id="openExistingBtn">
                                        <i class="fas fa-folder-open"></i>
                                        Open Existing Project
                                    </button>
                                    <button class="welcome-btn" id="importFromGitBtn">
                                        <i class="fas fa-code-branch"></i>
                                        Import from Git
                                    </button>
                                </div>
                            </div>

                            <div class="welcome-section">
                                <h3><i class="fas fa-magic"></i> AI Features</h3>
                                <div class="feature-grid">
                                    <div class="feature-item">
                                        <i class="fas fa-code"></i>
                                        <h4>Code Generation</h4>
                                        <p>Generate code from natural language descriptions</p>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-bug"></i>
                                        <h4>Bug Detection</h4>
                                        <p>Automatic bug detection and fixing suggestions</p>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-comments"></i>
                                        <h4>Code Review</h4>
                                        <p>AI-powered code review and optimization</p>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-book"></i>
                                        <h4>Documentation</h4>
                                        <p>Automatic documentation generation</p>
                                    </div>
                                </div>
                            </div>

                            <div class="welcome-section">
                                <h3><i class="fas fa-history"></i> Recent Projects</h3>
                                <div class="recent-projects" id="recentProjects">
                                    <!-- Recent projects will appear here -->
                                </div>
                            </div>

                            <div class="welcome-section">
                                <h3><i class="fas fa-templates"></i> Quick Templates</h3>
                                <div class="template-grid" id="welcomeTemplates">
                                    <!-- Templates will appear here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Code Editor -->
                <div class="code-editor-wrapper hidden" id="codeEditorWrapper">
                    <div class="editor-toolbar">
                        <div class="toolbar-left">
                            <select class="language-selector" id="languageSelector">
                                <option value="javascript">JavaScript</option>
                                <option value="typescript">TypeScript</option>
                                <option value="html">HTML</option>
                                <option value="css">CSS</option>
                                <option value="python">Python</option>
                                <option value="java">Java</option>
                                <option value="cpp">C++</option>
                                <option value="csharp">C#</option>
                                <option value="go">Go</option>
                                <option value="rust">Rust</option>
                                <option value="php">PHP</option>
                                <option value="ruby">Ruby</option>
                                <option value="swift">Swift</option>
                                <option value="kotlin">Kotlin</option>
                                <option value="json">JSON</option>
                                <option value="xml">XML</option>
                                <option value="yaml">YAML</option>
                                <option value="markdown">Markdown</option>
                                <option value="sql">SQL</option>
                                <option value="bash">Bash</option>
                                <option value="powershell">PowerShell</option>
                                <option value="dockerfile">Dockerfile</option>
                                <option value="text">Plain Text</option>
                            </select>
                            <div class="toolbar-separator"></div>
                            <button class="toolbar-btn" id="formatCodeBtn" title="Format Code">
                                <i class="fas fa-magic"></i>
                            </button>
                            <button class="toolbar-btn" id="lintCodeBtn" title="Lint Code">
                                <i class="fas fa-check-circle"></i>
                            </button>
                            <button class="toolbar-btn" id="prettifyBtn" title="Prettify">
                                <i class="fas fa-paint-brush"></i>
                            </button>
                            <div class="toolbar-separator"></div>
                            <button class="toolbar-btn" id="findReplaceBtn" title="Find & Replace">
                                <i class="fas fa-search"></i>
                            </button>
                            <button class="toolbar-btn" id="gotoLineBtn" title="Go to Line">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        <div class="toolbar-right">
                            <button class="toolbar-btn" id="wordWrapBtn" title="Toggle Word Wrap">
                                <i class="fas fa-align-left"></i>
                            </button>
                            <button class="toolbar-btn" id="miniMapBtn" title="Toggle Minimap">
                                <i class="fas fa-map"></i>
                            </button>
                            <button class="toolbar-btn" id="zenModeBtn" title="Zen Mode">
                                <i class="fas fa-expand"></i>
                            </button>
                            <div class="toolbar-separator"></div>
                            <div class="editor-info">
                                <span id="cursorPosition">Ln 1, Col 1</span>
                                <span id="selectionInfo"></span>
                            </div>
                        </div>
                    </div>

                    <div class="editor-main">
                        <div class="editor-gutter" id="editorGutter">
                            <div class="line-numbers" id="lineNumbers">
                                <div class="line-number">1</div>
                            </div>
                            <div class="breakpoints" id="breakpoints"></div>
                        </div>
                        <div class="editor-content">
                            <textarea class="code-editor" id="codeEditor" spellcheck="false"></textarea>
                            <div class="editor-overlay" id="editorOverlay">
                                <!-- Syntax highlighting and other overlays -->
                            </div>
                        </div>
                        <div class="minimap hidden" id="minimap">
                            <!-- Minimap content -->
                        </div>
                    </div>

                    <!-- Find and Replace Panel -->
                    <div class="find-replace-panel hidden" id="findReplacePanel">
                        <div class="find-section">
                            <input type="text" class="find-input" id="findInput" placeholder="Find">
                            <div class="find-buttons">
                                <button class="find-btn" id="findPrevBtn" title="Previous">
                                    <i class="fas fa-chevron-up"></i>
                                </button>
                                <button class="find-btn" id="findNextBtn" title="Next">
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <button class="find-btn" id="findAllBtn" title="Find All">
                                    <i class="fas fa-list"></i>
                                </button>
                            </div>
                        </div>
                        <div class="replace-section">
                            <input type="text" class="replace-input" id="replaceInput" placeholder="Replace">
                            <div class="replace-buttons">
                                <button class="replace-btn" id="replaceBtn" title="Replace">
                                    <i class="fas fa-exchange-alt"></i>
                                </button>
                                <button class="replace-btn" id="replaceAllBtn" title="Replace All">
                                    <i class="fas fa-random"></i>
                                </button>
                            </div>
                        </div>
                        <div class="find-options">
                            <label><input type="checkbox" id="matchCase"> Match Case</label>
                            <label><input type="checkbox" id="wholeWordFind"> Whole Word</label>
                            <label><input type="checkbox" id="regexFind"> Regex</label>
                        </div>
                        <button class="close-find-btn" id="closeFindBtn">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <!-- Split View -->
                <div class="split-editor hidden" id="splitEditor">
                    <!-- Split editor content will be dynamically created -->
                </div>
            </div>
        </main>

        <!-- Right Panel -->
        <aside class="right-panel" id="rightPanel">
            <!-- AI Assistant -->
            <div class="panel-section active" id="aiSection">
                <div class="section-header">
                    <h3><i class="fas fa-robot"></i> AI Assistant</h3>
                    <div class="ai-status">
                        <div class="status-indicator online"></div>
                        <span>Online</span>
                    </div>
                </div>
                
                <div class="ai-models">
                    <select class="model-selector" id="modelSelector">
                        <option value="qwen/qwen3-coder:free" selected>Qwen3 Coder (Free)</option>
                        <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo</option>
                        <option value="openai/gpt-4">GPT-4</option>
                        <option value="anthropic/claude-3-haiku">Claude 3 Haiku</option>
                        <option value="anthropic/claude-3-sonnet">Claude 3 Sonnet</option>
                        <option value="google/gemini-pro">Gemini Pro</option>
                        <option value="meta/llama-2-70b">Llama 2 70B</option>
                        <option value="mistral/mistral-7b">Mistral 7B</option>
                        <option value="cohere/command">Cohere Command</option>
                    </select>
                </div>

                <div class="ai-quick-actions">
                    <button class="quick-action-btn" data-action="explain">
                        <i class="fas fa-lightbulb"></i>
                        Explain Code
                    </button>
                    <button class="quick-action-btn" data-action="debug">
                        <i class="fas fa-bug"></i>
                        Find Bugs
                    </button>
                    <button class="quick-action-btn" data-action="optimize">
                        <i class="fas fa-tachometer-alt"></i>
                        Optimize
                    </button>
                    <button class="quick-action-btn" data-action="document">
                        <i class="fas fa-file-alt"></i>
                        Document
                    </button>
                    <button class="quick-action-btn" data-action="test">
                        <i class="fas fa-vial"></i>
                        Generate Tests
                    </button>
                    <button class="quick-action-btn" data-action="refactor">
                        <i class="fas fa-wrench"></i>
                        Refactor
                    </button>
                </div>

                <div class="ai-chat" id="aiChat">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-header">
                                    <span class="sender">AI Assistant</span>
                                    <span class="timestamp">Now</span>
                                </div>
                                <div class="message-text">
                                    ðŸ‘‹ Hello! I'm your AI coding assistant. I can help you with:
                                    <ul>
                                        <li>Code generation and completion</li>
                                        <li>Bug detection and fixing</li>
                                        <li>Code optimization and refactoring</li>
                                        <li>Documentation generation</li>
                                        <li>Test case creation</li>
                                        <li>Code explanation and tutorials</li>
                                    </ul>
                                    What would you like to work on today?
                                </div>
                                <div class="message-actions">
                                    <button class="message-action" title="Copy"><i class="fas fa-copy"></i></button>
                                    <button class="message-action" title="Like"><i class="fas fa-thumbs-up"></i></button>
                                    <button class="message-action" title="Dislike"><i class="fas fa-thumbs-down"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ai-input-section">
                    <div class="input-toolbar">
                        <button class="input-tool-btn" id="attachCodeBtn" title="Attach Current Code">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="input-tool-btn" id="voiceInputBtn" title="Voice Input">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button class="input-tool-btn" id="clearChatBtn" title="Clear Chat">
                            <i class="fas fa-trash"></i>
                        </button>
                        <div class="input-settings">
                            <button class="input-tool-btn" id="aiSettingsBtn" title="AI Settings">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                    <div class="input-container">
                        <textarea class="ai-input" id="aiInput" placeholder="Ask me anything about your code..." rows="3"></textarea>
                        <button class="send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="input-footer">
                        <div class="model-info">
                            <span>Model: <strong id="currentModel">Qwen3 Coder</strong></span>
                            <span class="token-count">Tokens: <span id="tokenCount">0</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Code Preview -->
            <div class="panel-section hidden" id="previewSection">
                <div class="section-header">
                    <h3><i class="fas fa-eye"></i> Live Preview</h3>
                    <div class="preview-controls">
                        <button class="preview-btn" id="refreshPreviewBtn" title="Refresh">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button class="preview-btn" id="openInNewTabBtn" title="Open in New Tab">
                            <i class="fas fa-external-link-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="preview-container">
                    <iframe class="preview-frame" id="previewFrame" sandbox="allow-scripts allow-same-origin"></iframe>
                </div>
            </div>

            <!-- Terminal -->
            <div class="panel-section hidden" id="terminalSection">
                <div class="section-header">
                    <h3><i class="fas fa-terminal"></i> Terminal</h3>
                    <div class="terminal-controls">
                        <button class="terminal-btn" id="newTerminalBtn" title="New Terminal">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="terminal-btn" id="clearTerminalBtn" title="Clear">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="terminal-container">
                    <div class="terminal" id="terminal">
                        <div class="terminal-output" id="terminalOutput">
                            <div class="terminal-line">
                                <span class="terminal-prompt">$ </span>
                                <span class="terminal-text">Welcome to AI Code Studio Terminal</span>
                            </div>
                        </div>
                        <div class="terminal-input-line">
                            <span class="terminal-prompt">$ </span>
                            <input type="text" class="terminal-input" id="terminalInput" autocomplete="off">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Problems Panel -->
            <div class="panel-section hidden" id="problemsSection">
                <div class="section-header">
                    <h3><i class="fas fa-exclamation-triangle"></i> Problems</h3>
                    <div class="problems-count">
                        <span class="error-count" id="errorCount">0 Errors</span>
                        <span class="warning-count" id="warningCount">0 Warnings</span>
                    </div>
                </div>
                <div class="problems-list" id="problemsList">
                    <!-- Problems will appear here -->
                </div>
            </div>

            <!-- Output Panel -->
            <div class="panel-section hidden" id="outputSection">
                <div class="section-header">
                    <h3><i class="fas fa-terminal"></i> Output</h3>
                    <select class="output-selector" id="outputSelector">
                        <option value="general">General</option>
                        <option value="build">Build</option>
                        <option value="debug">Debug</option>
                        <option value="ai">AI Assistant</option>
                    </select>
                </div>
                <div class="output-content" id="outputContent">
                    <div class="output-line">
                        <span class="output-timestamp">[2025-07-24 09:30:58]</span>
                        <span class="output-text">AI Code Studio Pro initialized successfully</span>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Bottom Panel -->
    <div class="bottom-panel hidden" id="bottomPanel">
        <div class="panel-tabs">
            <button class="panel-tab active" data-panel="console">
                <i class="fas fa-terminal"></i>
                Console
            </button>
            <button class="panel-tab" data-panel="problems">
                <i class="fas fa-exclamation-triangle"></i>
                Problems
                <span class="tab-badge" id="problemsBadge">0</span>
            </button>
            <button class="panel-tab" data-panel="output">
                <i class="fas fa-list-alt"></i>
                Output
            </button>
            <button class="panel-tab" data-panel="debug-console">
                <i class="fas fa-bug"></i>
                Debug Console
            </button>
        </div>
        <div class="panel-content-container">
            <!-- Panel content will be dynamically loaded -->
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-left">
            <div class="status-item" id="currentBranchStatus">
                <i class="fas fa-code-branch"></i>
                <span>main</span>
            </div>
            <div class="status-item" id="syncStatus">
                <i class="fas fa-sync-alt"></i>
                <span>Synced</span>
            </div>
            <div class="status-item problems-status" id="problemsStatus">
                <i class="fas fa-exclamation-triangle"></i>
                <span>0 Problems</span>
            </div>
        </div>
        <div class="status-center">
            <div class="status-item" id="filePathStatus">
                Welcome to AI Code Studio Pro
            </div>
        </div>
        <div class="status-right">
            <div class="status-item" id="languageStatus">
                <i class="fas fa-code"></i>
                <span>JavaScript</span>
            </div>
            <div class="status-item" id="encodingStatus">
                <span>UTF-8</span>
            </div>
            <div class="status-item" id="eolStatus">
                <span>LF</span>
            </div>
            <div class="status-item" id="indentStatus">
                <span>Spaces: 4</span>
            </div>
            <div class="status-item" id="positionStatus">
                <span>Ln 1, Col 1</span>
            </div>
            <div class="status-item ai-status" id="aiStatusBar">
                <div class="ai-indicator online"></div>
                <span>AI Ready</span>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Settings Modal -->
    <div class="modal hidden" id="settingsModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content large">
            <div class="modal-header">
                <h2><i class="fas fa-cog"></i> Settings</h2>
                <button class="modal-close" data-modal="settingsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-container">
                    <div class="settings-sidebar">
                        <div class="settings-nav">
                            <button class="settings-nav-item active" data-section="general">
                                <i class="fas fa-cog"></i>
                                General
                            </button>
                            <button class="settings-nav-item" data-section="editor">
                                <i class="fas fa-edit"></i>
                                Editor
                            </button>
                            <button class="settings-nav-item" data-section="ai">
                                <i class="fas fa-robot"></i>
                                AI Assistant
                            </button>
                            <button class="settings-nav-item" data-section="appearance">
                                <i class="fas fa-palette"></i>
                                Appearance
                            </button>
                            <button class="settings-nav-item" data-section="keybindings">
                                <i class="fas fa-keyboard"></i>
                                Keybindings
                            </button>
                            <button class="settings-nav-item" data-section="extensions">
                                <i class="fas fa-puzzle-piece"></i>
                                Extensions
                            </button>
                            <button class="settings-nav-item" data-section="sync">
                                <i class="fas fa-cloud"></i>
                                Sync
                            </button>
                        </div>
                    </div>
                    <div class="settings-content">
                        <!-- General Settings -->
                        <div class="settings-section active" id="generalSettings">
                            <h3>General Settings</h3>
                            <div class="settings-group">
                                <label class="setting-label">Auto Save</label>
                                <div class="setting-control">
                                    <select class="form-select" id="autoSaveSetting">
                                        <option value="off">Off</option>
                                        <option value="afterDelay" selected>After Delay</option>
                                        <option value="onFocusChange">On Focus Change</option>
                                        <option value="onWindowChange">On Window Change</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Auto Save Delay (ms)</label>
                                <div class="setting-control">
                                    <input type="number" class="form-input" id="autoSaveDelay" value="1000" min="100" max="10000">
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Language</label>
                                <div class="setting-control">
                                    <select class="form-select" id="languageSetting">
                                        <option value="en" selected>English</option>
                                        <option value="es">EspaÃ±ol</option>
                                        <option value="fr">FranÃ§ais</option>
                                        <option value="de">Deutsch</option>
                                        <option value="zh">ä¸­æ–‡</option>
                                        <option value="ja">æ—¥æœ¬èªž</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Telemetry</label>
                                <div class="setting-control">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="telemetrySetting" checked>
                                        Send usage data to help improve the product
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Editor Settings -->
                        <div class="settings-section hidden" id="editorSettings">
                            <h3>Editor Settings</h3>
                            <div class="settings-group">
                                <label class="setting-label">Font Family</label>
                                <div class="setting-control">
                                    <select class="form-select" id="fontFamilySetting">
                                        <option value="'Fira Code', monospace" selected>Fira Code</option>
                                        <option value="'Cascadia Code', monospace">Cascadia Code</option>
                                        <option value="'JetBrains Mono', monospace">JetBrains Mono</option>
                                        <option value="'Source Code Pro', monospace">Source Code Pro</option>
                                        <option value="'Monaco', monospace">Monaco</option>
                                        <option value="'Consolas', monospace">Consolas</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Font Size</label>
                                <div class="setting-control">
                                    <input type="range" class="form-range" id="fontSizeRange" min="10" max="24" value="14">
                                    <span class="range-value" id="fontSizeValue">14px</span>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Line Height</label>
                                <div class="setting-control">
                                    <input type="range" class="form-range" id="lineHeightRange" min="1" max="2" step="0.1" value="1.6">
                                    <span class="range-value" id="lineHeightValue">1.6</span>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Tab Size</label>
                                <div class="setting-control">
                                    <select class="form-select" id="tabSizeSetting">
                                        <option value="2">2 spaces</option>
                                        <option value="4" selected>4 spaces</option>
                                        <option value="8">8 spaces</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Word Wrap</label>
                                <div class="setting-control">
                                    <select class="form-select" id="wordWrapSetting">
                                        <option value="off">Off</option>
                                        <option value="on" selected>On</option>
                                        <option value="wordWrapColumn">Wrap at Column</option>
                                        <option value="bounded">Bounded</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Line Numbers</label>
                                <div class="setting-control">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="lineNumbersSetting" checked>
                                        Show line numbers
                                    </label>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Minimap</label>
                                <div class="setting-control">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="minimapSetting" checked>
                                        Show minimap
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- AI Settings -->
                        <div class="settings-section hidden" id="aiSettings">
                            <h3>AI Assistant Settings</h3>
                            <div class="settings-group">
                                <label class="setting-label">Default Model</label>
                                <div class="setting-control">
                                    <select class="form-select" id="defaultModelSetting">
                                        <option value="qwen/qwen3-coder:free" selected>Qwen3 Coder (Free)</option>
                                        <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                        <option value="openai/gpt-4">GPT-4</option>
                                        <option value="anthropic/claude-3-haiku">Claude 3 Haiku</option>
                                        <option value="anthropic/claude-3-sonnet">Claude 3 Sonnet</option>
                                        <option value="google/gemini-pro">Gemini Pro</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Temperature</label>
                                <div class="setting-control">
                                    <input type="range" class="form-range" id="temperatureRange" min="0" max="1" step="0.1" value="0.7">
                                    <span class="range-value" id="temperatureValue">0.7</span>
                                </div>
                                <div class="setting-description">Controls randomness: 0 = focused, 1 = creative</div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Max Tokens</label>
                                <div class="setting-control">
                                    <select class="form-select" id="maxTokensSetting">
                                        <option value="500">500</option>
                                        <option value="1000" selected>1000</option>
                                        <option value="2000">2000</option>
                                        <option value="4000">4000</option>
                                        <option value="8000">8000</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Auto-suggestions</label>
                                <div class="setting-control">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="autoSuggestionsSetting" checked>
                                        Enable automatic code suggestions
                                    </label>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Context Length</label>
                                <div class="setting-control">
                                    <select class="form-select" id="contextLengthSetting">
                                        <option value="short">Short (2000 chars)</option>
                                        <option value="medium" selected>Medium (4000 chars)</option>
                                        <option value="long">Long (8000 chars)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Appearance Settings -->
                        <div class="settings-section hidden" id="appearanceSettings">
                            <h3>Appearance Settings</h3>
                            <div class="settings-group">
                                <label class="setting-label">Theme</label>
                                <div class="setting-control">
                                    <select class="form-select" id="themeSetting">
                                        <option value="dark" selected>Dark</option>
                                        <option value="light">Light</option>
                                        <option value="auto">Auto (System)</option>
                                        <option value="high-contrast">High Contrast</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Color Scheme</label>
                                <div class="setting-control">
                                    <select class="form-select" id="colorSchemeSetting">
                                        <option value="default" selected>Default</option>
                                        <option value="monokai">Monokai</option>
                                        <option value="solarized">Solarized</option>
                                        <option value="github">GitHub</option>
                                        <option value="dracula">Dracula</option>
                                        <option value="material">Material</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Sidebar Position</label>
                                <div class="setting-control">
                                    <select class="form-select" id="sidebarPositionSetting">
                                        <option value="left" selected>Left</option>
                                        <option value="right">Right</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">Activity Bar Position</label>
                                <div class="setting-control">
                                    <select class="form-select" id="activityBarSetting">
                                        <option value="left" selected>Left</option>
                                        <option value="right">Right</option>
                                        <option value="hidden">Hidden</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-group">
                                <label class="setting-label">UI Density</label>
                                <div class="setting-control">
                                    <select class="form-select" id="uiDensitySetting">
                                        <option value="compact">Compact</option>
                                        <option value="default" selected>Default</option>
                                        <option value="comfortable">Comfortable</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Other settings sections would go here -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-modal="settingsModal">Cancel</button>
                <button class="btn btn-primary" id="saveSettingsBtn">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Project Templates Modal -->
    <div class="modal hidden" id="templatesModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content large">
            <div class="modal-header">
                <h2><i class="fas fa-templates"></i> Project Templates</h2>
                <button class="modal-close" data-modal="templatesModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="templates-container">
                    <div class="templates-sidebar">
                        <div class="template-categories">
                            <button class="category-btn active" data-category="all">
                                <i class="fas fa-th"></i>
                                All Templates
                            </button>
                            <button class="category-btn" data-category="web">
                                <i class="fas fa-globe"></i>
                                Web Development
                            </button>
                            <button class="category-btn" data-category="mobile">
                                <i class="fas fa-mobile-alt"></i>
                                Mobile Apps
                            </button>
                            <button class="category-btn" data-category="desktop">
                                <i class="fas fa-desktop"></i>
                                Desktop Apps
                            </button>
                            <button class="category-btn" data-category="data">
                                <i class="fas fa-chart-bar"></i>
                                Data Science
                            </button>
                            <button class="category-btn" data-category="ml">
                                <i class="fas fa-brain"></i>
                                Machine Learning
                            </button>
                            <button class="category-btn" data-category="game">
                                <i class="fas fa-gamepad"></i>
                                Game Development
                            </button>
                            <button class="category-btn" data-category="api">
                                <i class="fas fa-server"></i>
                                API Development
                            </button>
                        </div>
                    </div>
                    <div class="templates-content">
                        <div class="templates-search">
                            <input type="text" class="search-input" id="templateSearch" placeholder="Search templates...">
                        </div>
                        <div class="templates-grid" id="templatesGrid">
                            <!-- Templates will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Settings Modal -->
    <div class="modal hidden" id="aiSettingsModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-robot"></i> AI Assistant Settings</h2>
                <button class="modal-close" data-modal="aiSettingsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">AI Model</label>
                    <select class="form-select" id="aiModelModalSelect">
                        <option value="qwen/qwen3-coder:free" selected>Qwen3 Coder (Free)</option>
                        <option value="openai/gpt-3.5-turbo">GPT-3.5 Turbo</option>
                        <option value="openai/gpt-4">GPT-4</option>
                        <option value="anthropic/claude-3-haiku">Claude 3 Haiku</option>
                        <option value="anthropic/claude-3-sonnet">Claude 3 Sonnet</option>
                        <option value="google/gemini-pro">Gemini Pro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Temperature: <span id="tempDisplay">0.7</span></label>
                    <input type="range" class="form-range" id="temperatureModalRange" min="0" max="1" step="0.1" value="0.7">
                    <div class="form-help">Lower values make responses more focused, higher values more creative</div>
                </div>
                <div class="form-group">
                    <label class="form-label">Max Response Length</label>
                    <select class="form-select" id="maxTokensModalSelect">
                        <option value="500">Short (500 tokens)</option>
                        <option value="1000" selected>Medium (1000 tokens)</option>
                        <option value="2000">Long (2000 tokens)</option>
                        <option value="4000">Very Long (4000 tokens)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">System Prompt</label>
                    <textarea class="form-textarea" id="systemPromptTextarea" rows="4" placeholder="Enter custom system prompt..."></textarea>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeCodeContext" checked>
                        Include current code context in requests
                    </label>
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="enableAutoComplete" checked>
                        Enable AI-powered auto-completion
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-modal="aiSettingsModal">Cancel</button>
                <button class="btn btn-primary" id="saveAiSettingsBtn">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- New File Modal -->
    <div class="modal hidden" id="newFileModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-file-plus"></i> Create New File</h2>
                <button class="modal-close" data-modal="newFileModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">File Name</label>
                    <input type="text" class="form-input" id="newFileNameInput" placeholder="example.js" autocomplete="off">
                </div>
                <div class="form-group">
                    <label class="form-label">File Type</label>
                    <select class="form-select" id="newFileTypeSelect">
                        <option value="javascript">JavaScript (.js)</option>
                        <option value="typescript">TypeScript (.ts)</option>
                        <option value="html">HTML (.html)</option>
                        <option value="css">CSS (.css)</option>
                        <option value="scss">SCSS (.scss)</option>
                        <option value="less">LESS (.less)</option>
                        <option value="python">Python (.py)</option>
                        <option value="java">Java (.java)</option>
                        <option value="cpp">C++ (.cpp)</option>
                        <option value="csharp">C# (.cs)</option>
                        <option value="go">Go (.go)</option>
                        <option value="rust">Rust (.rs)</option>
                        <option value="php">PHP (.php)</option>
                        <option value="ruby">Ruby (.rb)</option>
                        <option value="swift">Swift (.swift)</option>
                        <option value="kotlin">Kotlin (.kt)</option>
                        <option value="json">JSON (.json)</option>
                        <option value="xml">XML (.xml)</option>
                        <option value="yaml">YAML (.yml)</option>
                        <option value="markdown">Markdown (.md)</option>
                        <option value="sql">SQL (.sql)</option>
                        <option value="bash">Bash (.sh)</option>
                        <option value="powershell">PowerShell (.ps1)</option>
                        <option value="dockerfile">Dockerfile</option>
                        <option value="text">Plain Text (.txt)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Location</label>
                    <input type="text" class="form-input" id="newFileLocationInput" placeholder="/src/" value="/">
                </div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="openAfterCreateCheck" checked>
                        Open file after creation
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-modal="newFileModal">Cancel</button>
                <button class="btn btn-primary" id="createFileBtn">Create File</button>
            </div>
        </div>
    </div>

    <!-- Command Palette -->
    <div class="command-palette hidden" id="commandPalette">
        <div class="command-input-container">
            <i class="fas fa-search command-icon"></i>
            <input type="text" class="command-input" id="commandInput" placeholder="Type a command...">
        </div>
        <div class="command-results" id="commandResults">
            <!-- Command results will appear here -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
